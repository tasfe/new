<table id="chartsTable" width="100%" border="0" cellpadding="0" cellspacing="1">
  <tr class="th">
    <td rowspan="2" colspan="<%=count %>">开奖号码</td>
    <%_(positions).each(function(position) { %>
    <td colspan="<%=num.length%>"><%=position %></td>
    <% }); %>
  </tr>
  <tr class="th">
    <%_(positions).each(function() { %>
    <%_(num).each(function(num) { %>
    <td class="wdh"><%=num %></td>
    <% });%>
    <% }); %>
  </tr>

  <% _(list).each(function(info) { %>
  <tr>
    <% var openedNums = info.ticketOpenNum.split(',') %>
    <% var openedNums = openedNums.splice(0, count) %>
    <% _(openedNums).each(function(num) { %>
    <td align="center" class="tdwth"><div class="wth"><%=num %></div></td>
    <% }); %>

    <%_(positions).each(function(position, index) { %>
    <% var currentNum = Number(openedNums[index]); %>
    <%_(num).each(function(num) { %>
    <td class="<% if (num === currentNum) { %>charball<% } else { %>wdh<% } %> td<%=(index % 2) %>" align="center" width="28">
      <% if (num === currentNum) { %>
      <div class="ball0<%=(index % 2 + 1) %>"><%=num %></div>
      <% } else { %>
      <div class="ball01 invisible"></div>
      <% } %>
    </td>
    <% });%>
    <% }); %>
  </tr>
  <% }); %>

  <tr class=th>
    <td rowspan="2" colspan="<%=count %>">开奖号码</td>
    <%_(positions).each(function() { %>
    <%_(num).each(function(num) { %>
    <td><%=num %></td>
    <% });%>
    <% }); %>
  </tr>
  <tr class=th>
    <%_(positions).each(function(position) { %>
    <td colspan="<%=num.length%>"><%=position %></td>
    <% }); %>
  </tr>
</table>
